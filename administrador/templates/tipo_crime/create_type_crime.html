{% extends 'principal.html' %}

{% block content %}
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        {% load static %}
        <script src="{% static 'js/jquery.mask.min.js' %}"></script>
        <style>
            .form-control{
                height: 40px;
            }
        </style>
    </head>
    <body >
        <div class="card"
        style="display: flex; gap: 20px;  width: 80%; flex-direction: column;
        background-color: #f8f9fa; padding: 10px; border-radius: 10px;
         align-self: center; align-items: center; margin-top: 20px;">

            <div class="d-flex justify-content-between"
             style="width: 100%;">
                <h3 class="text-warning">Cadastro de tipo de crime</h3>
                <a href="/list_type_crime/" class="btn btn-primary">Listar</a>
            </div>

            <form action="{% url 'create_type_crime'%}" method="post" 
            style="display: flex; gap: 20px;  width: 100%; flex-direction: column;
            background-color: #f8f9fa; padding: 10px; border-radius: 10px;
             align-self: center; align-items: center;">

             {% csrf_token %}

                {% if messages %}
                    {% for message in messages %}
                        {% if message.tags == 'success' %}
                        
                            <div class="alert alert-{{message.tags}} alert-dismissible fade show" role="alert">
                                <strong>{{message}}</strong>
                                <button type="button" class="btn-close"
                                data-bs-dismiss="alert" aria-label="close"
                                ></button>
                            </div>
                        {% else %}
                            <div class="alert alert-danger alert-dismissible fade show" role="alert">
                                <strong>{{message}}</strong>
                                <button type="button" class="btn-close"
                                data-bs-dismiss="alert" aria-label="close"
                                ></button>
                            </div>
                        {% endif %}
                    
                    {% endfor %}
                {% endif %}
                
                <div class="form-group" 
                    style="display: flex; gap: 20px;  width: 100%; margin-top: 10px;">
                    
                    <label for="tipo" style="display: flex;
                    flex-direction: column; width: 100%;">
                
                        <span >
                            Tipo
                            <span class="text-danger">*</span>
                        </span>
            
                        <input type="text" name="nome" id="nome" oninput="this.value=this.value.toUpperCase()"
                            style="border-radius: 4px 0px 0px 4px;"
                            class="form-control"
                            placeholder="Número da evidência">

                        {% if form.nome.errors %}
                            <div class="text-danger" style="margin-bottom: -40px; ">
                                {{form.nome.errors}}
                            </div>
                        {% endif %}
                    </label>
                    <label for="gravidade" style="display: flex;
                    flex-direction: column; width: 100%;">
                
                        <span >
                            Tipo de gravidade
                            <span class="text-danger">*</span>
                        </span>
 
                        <select name="gravidade" class="form-control" >
                            <option value="">Selecione</option>
                            <option value="1">Leve </option>
                            <option value="2">Média </option>
                            <option value="3">Grave </option>
                            <option value="4">Gravíssima </option>
                
                        
                        </select>

                        {% if form.gravidade.errors %}
                            <div class="text-danger" style="margin-bottom: -40px; ">
                                {{form.gravidade.errors}}
                            </div>
                        {% endif %}
                    </label> 
                </div>

                <div class="form-group" 
                style="display: flex; gap: 20px;  width: 100%;">

                    <label for="descricao" 
                    style="display: flex; flex-direction: column;  width: 100%;">
                        
                        <span >
                            Descrição
                            <span class="text-danger">*</span>
                        </span>
                        <textarea style=" width: 100%; height: 100px; resize: none;"
                            class="form-control" name="descricao"  id="descricao"
                            aria-describedby="helpId" autocomplete="off"></textarea>
                            
                        {% if form.descricao.errors %}
                            <div class="text-danger" style="margin-bottom: -40px; ">
                                {{form.descricao.errors}}
                            </div>
                        {% endif %}
                    </label>
                   
                </div>

                
                <button type="submit" class="btn" 
                style="width: 80%; background-color: #2c5aa0; color: #fff;">
                    Cadastrar
                </button>
            </form>
        </div> 
    </body>
    </html>
{% endblock content %}