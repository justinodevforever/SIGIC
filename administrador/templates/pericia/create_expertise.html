{% extends 'principal.html' %}

{% block content %}
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        {% load static %}
        <script src="{% static 'js/jquery.mask.min.js' %}"></script>
        <style>
            .form-control{
                height: 40px;
            }
        </style>
    </head>
    <body >
        <div class="card"
        style="display: flex; gap: 20px;  width: 80%; flex-direction: column;
        background-color: #f8f9fa; padding: 10px; border-radius: 10px;
         align-self: center; align-items: center; margin-top: 20px;">

            <div class="d-flex justify-content-between"
             style="width: 100%;">
                <h3 class="text-warning">Cadastro de dados da perícia</h3>
                <a href="/list_evidence_expertise/" class="btn btn-primary">Listar</a>
            </div>

            <form action="{% url 'create_expertise'%}" method="post" 
            style="display: flex; gap: 20px;  width: 100%; flex-direction: column;
            background-color: #f8f9fa; padding: 10px; border-radius: 10px;
             align-self: center; align-items: center;">

             {% csrf_token %}

                {% if messages %}
                    {% for message in messages %}
                        {% if message.tags == 'success' %}
                        
                            <div class="alert alert-{{message.tags}} alert-dismissible fade show" role="alert">
                                <strong>{{message}}</strong>
                                <button type="button" class="btn-close"
                                data-bs-dismiss="alert" aria-label="close"
                                ></button>
                            </div>
                        {% else %}
                            <div class="alert alert-danger alert-dismissible fade show" role="alert">
                                <strong>{{message}}</strong>
                                <button type="button" class="btn-close"
                                data-bs-dismiss="alert" aria-label="close"
                                ></button>
                            </div>
                        {% endif %}
                    
                    {% endfor %}
                {% endif %}
                
                <div class="form-group" 
                    style="display: flex; gap: 20px;  width: 100%; margin-top: 10px;">
                    
                    <label for="tipo" style="display: flex;
                    flex-direction: column; width: 100%;">
                
                        <span >
                            Número da evidência
                            <span class="text-danger">*</span>
                        </span>
            
                        <input type="search" name="numero_evidencia" id="numero_evidencia"
                            style="border-radius: 4px 0px 0px 4px;"
                            class="form-control"
                            placeholder="Número da evidência">

                        {% if form.numero_evidencia.errors %}
                            <div class="text-danger" style="margin-bottom: -40px; ">
                                {{form.numero_evidencia.errors}}
                            </div>
                        {% endif %}
                    </label>
                    <label for="tipo" style="display: flex;
                    flex-direction: column; width: 100%;">
                
                        <span >
                            Tipo de perícia
                            <span class="text-danger">*</span>
                        </span>
            
                        <select name="tipo" class="form-control" >
                            <option value="">Selecione</option>
                            <option value="DNA">DNA </option>
                            <option value="BALISTICA">Balística </option>
                            <option value="TOXICOLOGIA">TOXICOLOGIA </option>
                            <option value="DIGITAIS">Digitais </option>
                
                        
                        </select>

                        {% if form.tipo.errors %}
                            <div class="text-danger" style="margin-bottom: -40px; ">
                                {{form.tipo.errors}}
                            </div>
                        {% endif %}
                    </label> 
                </div>

                <div class="form-group" 
                style="display: flex; gap: 20px;  width: 100%;">

                    <label for="resultado" 
                    style="display: flex; flex-direction: column;  width: 100%;">
                        
                        <span >
                            Resultado
                            <span class="text-danger">*</span>
                        </span>
                        <textarea type="text" style=" width: 100%; height: 100px; resize: none;"
                            class="form-control" name="resultado" 
                            aria-describedby="helpId" autocomplete="off"></textarea>
                            
                        {% if form.resultado.errors %}
                            <div class="text-danger" style="margin-bottom: -40px; ">
                                {{form.resultado.errors}}
                            </div>
                        {% endif %}
                    </label>
                    <label for="conclusao" 
                    style="display: flex; flex-direction: column;  width: 100%;">
                        
                        <span >
                            Conclusão
                            <span class="text-danger">*</span>
                        </span>
                        <textarea type="text" style=" width: 100%; height: 100px; resize: none;;"
                            class="form-control" name="conclusao" 
                            aria-describedby="helpId" autocomplete="off"></textarea>
                            
                        {% if form.conclusao.errors %}
                            <div class="text-danger" style="margin-bottom: -40px; ">
                                {{form.conclusao.errors}}
                            </div>
                        {% endif %}
                    </label>
                </div>

                
                <button type="submit" class="btn" 
                style="width: 80%; background-color: #2c5aa0; color: #fff;">
                    Cadastrar
                </button>
            </form>
        </div> 
    </body>
    </html>
{% endblock content %}